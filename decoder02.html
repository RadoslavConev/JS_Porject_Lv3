<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Caesar Cipher Decoder 0.1.2</title>
	<!-- <script src="caesar_logic.js" type="application/javascript"></script> -->
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<div id='input_form'>
		<form>
			<div>
				<input type="text" name="txtinput" id=txtinput></input>
			</div>
			<div>
				<button type="submit" id=txtinput_btn>Decode</button>
			</div>
		</form>
	</div>
	




<script type="text/javascript">
var alphabet = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']; //26
var input_split = [];
var input;
var mostFrequent = null;
var counts = { };
var indexOfMostCommon;
var displcE;
var newText = [];

function decodinger (e) {
	document.getElementById("txtinput_btn").addEventListener("click", function(event){
    	event.preventDefault() 
	});

	input = document.getElementById('txtinput').value;
	// console.log(input)
	input = input.toLowerCase();
	// console.log(input)
	input_split = input.split('');
	// console.log(input_split)
	var previous = 1;
let letters = {};
// letters = {
// 	a: 8,
// 	b: 7
// }
for( let i = 0; i < input_split.length; i++){
	// console.log( input_split[i])
	var curLetter = input_split[i];
	if( letters[curLetter] ){
		letters[curLetter] ++
	} else {
		letters[curLetter] = 1;
	}
}


// console.log(letters)
let max = 1;
let letter = '';
for (const [key, value] of Object.entries(letters)) {
  console.log(`${key}: ${value}`);
  if( value > max ){
  	max = value; letter = key;
  }
}

// console.log( letter)
//e, t, h

// console.log( alphabet.indexOf('e'))
// console.log( alphabet.indexOf('t'))
// console.log( alphabet.indexOf('h'))
console.log( alphabet.indexOf(letter))
console.log( alphabet.indexOf(letter) - alphabet.indexOf('e') )
console.log( alphabet.indexOf(letter) - alphabet.indexOf('t') )
console.log( alphabet.indexOf(letter) - alphabet.indexOf('h') )
// for(var o = 0; o < 26; o++){
// 	for(var j = 0; j < input.length; j++){
// 		console.log(j);
// 		var currLetter = input_split[j];
// 		console.log(currLetter);
// 		var currLetIndex = alphabet.indexOf(currLetter);
// 		newText[o] += alphabet[currLetIndex + o];
// 		console.log(newText);

// 	}
// }

			//most common letter
 	// for(var i = 0; i < input_split.length; i++){
		// var letter = input_split[i];
			
		// if(counts[letter] === undefined){
  //          	counts[letter] = 1;
  //      	}else{
  //          	counts[letter] = counts[letter] + 1;
  //      	}

  //      	if(counts[letter] > previous){
  //           previous = counts[letter];
  //           mostFrequent = input_split[i];
  //      	}
  //   }


// console.log(newText);
// return newText[3];
}

// function show (){
// 	document.getElementById('show').innerHTML = decodinger();
// }




</script>
	
<button type="submit" onclick="decodinger()" id=test_btn>Show</button>
<div id=show >nothing</div>
<div>Result:</div>
<div id="result"></div>

</body>
</html>